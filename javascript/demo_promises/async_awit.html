<html>
    <head><title>promises</title> </head>
    <body>
        <h1>Async await in javascript</h1>

        <script>
            //nested promises
            let result=function(score){
                return new Promise(function(resolve,reject){
                    console.log("calculating results...")
                    if (score>50)
                        resolve("you have passed.")
                    else
                        reject("you are failed")
                })
            }
            let grade=function(response){
                return new Promise(function(resolve,reject){
                    console.log("calculating grade...")
                    resolve("your grade is A."+ response)
                })
            }
            
            // result(80).then(response=>{
            //     console.log("result received")
            //     return grade(response)
            // }).then(finalgrade=>{
            //     console.log(finalgrade)
            // }).catch(err=>{
            //     console.log(err)
            // })

            //using async/awit
            async function calculateResult(){
                try{
                    const response = await result(80)
                    console.log("result received")
                    const finalgrade = await grade(response)
                    console.log(finalgrade )
                }
                catch(err){
                    console.log(err)
                }
            }
            calculateResult()
        </script>

    </body>
</html>